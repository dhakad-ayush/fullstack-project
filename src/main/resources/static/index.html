<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Landing Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#">PropertyCo</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="#projects">Projects</a></li>
                    <li class="nav-item"><a class="nav-link" href="#clients">Clients</a></li>
                    <li class="nav-item"><a class="nav-link" href="#consultation">Contact</a></li>
                    <li class="nav-item"><a class="btn btn-primary ms-lg-2 mt-2 mt-lg-0" href="admin.html">Admin Panel</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <header class="hero-section">
        <div class="container">
            <h1>Consultation, Design<br>& Marketing</h1>
            <p class="lead">Not Your Average Realtor</p>
        </div>
    </header>

    <section id="projects">
        <div class="container">
            <h2 class="text-center mb-5">Our Projects</h2>
            <div id="project-list" class="row">
                </div>
        </div>
    </section>

    <section id="clients">
        <div class="container">
            <h2 class="text-center mb-5">Happy Clients</h2>
            <div id="client-list" class="row justify-content-center">
                </div>
        </div>
    </section>

    <section id="consultation">
        <div class="container">
            <h2 class="text-center">Get a Free Consultation</h2>
            <div class="consultation-form-wrapper">
                <form id="contact-form">
                    <div class="mb-3">
                        <label for="fullName" class="form-label">Full Name</label>
                        <input type="text" class="form-control" id="fullName" required>
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Email Address</label>
                        <input type="email" class="form-control" id="email" required>
                    </div>
                    <div class="mb-3">
                        <label for="mobileNumber" class="form-label">Mobile Number</label>
                        <input type="tel" class="form-control" id="mobileNumber" required>
                    </div>
                    <div class="mb-3">
                        <label for="city" class="form-label">Area, City</label>
                        <input type="text" class="form-control" id="city" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Get Quick Quote</button>
                </form>
                <div id="form-message" class="mt-3"></div>
            </div>
        </div>
    </section>

    <section id="newsletter">
        <div class="container">
            <h3 class="text-center">Subscribe Us</h3>
            <form id="newsletter-form" class="d-flex justify-content-center">
                <div class="col-md-5">
                    <input type="email" class="form-control" id="newsletter-email" placeholder="Enter Email Address" required>
                </div>
                <div class="col-auto ms-2">
                    <button type="submit" class="btn btn-primary">Subscribe</button>
                </div>
            </form>
            <div id="newsletter-message" class="mt-3 text-center"></div>
        </div>
    </section>

    <footer class="footer">
        <p>&copy; 2025 PropertyCo. All Rights Reserved.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            
            fetch('http://localhost:8080/api/projects')
                .then(response => response.json())
                .then(data => {
                    const projectListDiv = document.getElementById('project-list');
                    projectListDiv.innerHTML = ''; 
                    data.forEach(project => {
                        const projectCard = `
                            <div class="col-md-6 col-lg-4">
                                <div class="project-card">
                                    <img src="${project.imageUrl}" alt="${project.name}">
                                    <div class="card-body">
                                        <h5 class="card-title">${project.name}</h5>
                                        <p class="card-text">${project.description}</p>
                                        <a href="#" class="btn btn-primary">Read More</a>
                                    </div>
                                 </div>
                            </div>
                        `;
                        projectListDiv.innerHTML += projectCard;
                    });
                })
                .catch(error => console.error('Error fetching projects:', error));

            
            fetch('http://localhost:8080/api/clients')
                .then(response => response.json())
                .then(data => {
                    const clientListDiv = document.getElementById('client-list');
                    clientListDiv.innerHTML = ''; 
                    data.forEach(client => {
                        const clientCard = `
                            <div class="col-md-6 col-lg-4 mb-4">
                                <div class="client-card">
                                    <img src="${client.imageUrl}" alt="${client.name}">
                                    <p class="client-description">"${client.description}"</p>
                                    <h5 class="client-name">${client.name}</h5>
                                    <p class="client-designation">${client.designation}</p>
                                </div>
                            </div>
                        `;
                        clientListDiv.innerHTML += clientCard;
                    });
                })
                .catch(error => console.error('Error fetching clients:', error));

            
            const contactForm = document.getElementById('contact-form');
            const formMessageDiv = document.getElementById('form-message');
            contactForm.addEventListener('submit', function(event) {
                event.preventDefault();
                const formData = {
                    fullName: document.getElementById('fullName').value,
                    email: document.getElementById('email').value,
                    mobileNumber: document.getElementById('mobileNumber').value,
                    city: document.getElementById('city').value
                };
                fetch('http://localhost:8080/api/contacts', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(formData)
                })
                .then(response => response.json())
                .then(data => {
                    formMessageDiv.innerHTML = '<div class="alert alert-success">Form submitted successfully!</div>';
                    contactForm.reset();
                })
                .catch(error => {
                    formMessageDiv.innerHTML = '<div class="alert alert-danger">Error submitting form.</div>';
                });
            });

            
            const newsletterForm = document.getElementById('newsletter-form');
            const newsletterMessageDiv = document.getElementById('newsletter-message');
            newsletterForm.addEventListener('submit', function(event) {
                event.preventDefault();
                const emailValue = document.getElementById('newsletter-email').value;
                const formData = { email: emailValue };
                fetch('http://localhost:8080/api/subscribers', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(formData)
                })
                .then(response => response.json())
                .then(data => {
                    newsletterMessageDiv.innerHTML = '<div class="alert alert-success">Subscribed successfully!</div>';
                    newsletterForm.reset();
                })
                .catch(error => {
                    newsletterMessageDiv.innerHTML = '<div class="alert alert-danger">Subscription failed.</div>';
                });
            });

        });
    </script>
</body>
</html>